<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{/layouts/main_layout}">
<head>
  <title>RESONOS 관리자 페이지</title>
</head>
<body>
<th:block layout:fragment="content">
  <main class="resonos-bg py-5">
    <div class="container" style="max-width: 1100px;">
      <h1 class="mb-4" style="color:#fffbe6;">관리자 대시보드</h1>

      <!-- 대시보드 요약 -->
      <div class="row g-4 mb-4">
        <div class="col-md-3" th:each="summary : ${dashboardSummary}">
          <div class="resonos-card p-4 text-center">
            <div class="fs-4" style="color:#D4B97F;" th:text="${summary.title}">제목</div>
            <div class="fs-2 fw-bold" style="color:#fffbe6;" th:text="${summary.count}">0</div>
          </div>
        </div>
      </div>

      <!-- 게시글 승인 대기 목록 -->
      <div class="resonos-card p-4 mb-4">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h5 style="color:#D4B97F;">게시판 작성 승인 대기</h5>
          <button class="btn btn-gold btn-sm">일괄 승인</button>
        </div>
        <table class="table table-dark table-hover align-middle resonos-table">
          <thead>
            <tr>
              <th>번호</th>
              <th>게시판</th>
              <th>제목</th>
              <th>작성자</th>
              <th>작성일</th>
              <th>첨부</th>
              <th>상태</th>
              <th>승인/반려</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="post : ${pendingPosts}">
              <td th:text="${post.id}">1</td>
              <td th:text="${post.boardType}">자유</td>
              <td th:text="${post.title}">제목</td>
              <td th:text="${post.author}">작성자</td>
              <td th:text="${post.createdAt}">2025-06-26</td>
              <td>
                <a th:href="@{${post.attachmentUrl}}" class="text-gold" th:if="${post.hasAttachment}">이미지</a>
                <span th:if="${!post.hasAttachment}">-</span>
              </td>
              <td><span class="badge bg-secondary" th:text="${post.status}">대기</span></td>
              <td>
                <button class="btn btn-gold btn-sm">승인</button>
                <button class="btn btn-outline-gold btn-sm">반려</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- 관리 링크 -->
      <div class="row g-4">
        <div class="col-md-3" th:each="menu : ${adminMenus}">
          <div class="resonos-card p-4 text-center">
            <div class="fs-5" style="color:#D4B97F;" th:text="${menu.name}">메뉴</div>
            <a th:href="@{${menu.link}}" class="btn btn-outline-gold btn-sm mt-2">이동</a>
          </div>
        </div>
      </div>
    </div>
  </main>
</th:block>
</body>
</html>
